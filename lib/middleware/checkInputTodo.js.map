{"version":3,"file":"checkInputTodo.js","names":["yup","checkCreateInput","ctx","next","body","request","schema","object","shape","text","string","required","trim","validate","e","status","success","errors","errorName","name"],"sources":["../../src/middleware/checkInputTodo.js"],"sourcesContent":["import yup from \"yup\";\r\n\r\nexport const checkCreateInput = async (ctx, next) => {\r\n  try {\r\n    const { body } = ctx.request;\r\n    let schema = yup.object().shape({\r\n      text: yup.string().required().trim(),\r\n    });\r\n\r\n    await schema.validate(body);\r\n    next();\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      errors: e.errors,\r\n      errorName: e.name,\r\n    };\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AAErB,OAAO,MAAMC,gBAAgB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,IAAI,KAAK;EACnD,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAGF,GAAG,CAACG,OAAO;IAC5B,IAAIC,MAAM,GAAGN,GAAG,CAACO,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC;MAC9BC,IAAI,EAAET,GAAG,CAACU,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC;IACrC,CAAC,CAAC;IAEF,MAAMN,MAAM,CAACO,QAAQ,CAACT,IAAI,CAAC;IAC3BD,IAAI,CAAC,CAAC;EACR,CAAC,CAAC,OAAOW,CAAC,EAAE;IACVZ,GAAG,CAACa,MAAM,GAAG,GAAG;IAChBb,GAAG,CAACE,IAAI,GAAG;MACTY,OAAO,EAAE,KAAK;MACdC,MAAM,EAAEH,CAAC,CAACG,MAAM;MAChBC,SAAS,EAAEJ,CAAC,CAACK;IACf,CAAC;EACH;AACF,CAAC"}