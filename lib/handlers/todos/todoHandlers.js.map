{"version":3,"file":"todoHandlers.js","names":["getAll","addOne","updateList","deleteManyData","getAllTodos","ctx","todos","status","body","success","data","e","console","error","message","deleteTodos","arrIds","request","createTodo","todo","todoRes","updateTodos","isComplete"],"sources":["../../../src/handlers/todos/todoHandlers.js"],"sourcesContent":["import {\r\n  getAll,\r\n  addOne,\r\n  updateList,\r\n  deleteManyData,\r\n} from \"../../database/todoRepository.js\";\r\n\r\nexport const getAllTodos = async (ctx) => {\r\n  try {\r\n    const todos = getAll();\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data: todos,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteTodos = async (ctx) => {\r\n  try {\r\n    const { arrIds } = ctx.request.body;\r\n    deleteManyData(arrIds);\r\n    ctx.status = 204;\r\n    return (ctx.body = {\r\n      success: true,\r\n      message: \"Deleted successfully!\",\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createTodo = async (ctx) => {\r\n  try {\r\n    const todo = ctx.request.body;\r\n    const todoRes = addOne(todo);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n      data: todoRes,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 400;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateTodos = async (ctx) => {\r\n  try {\r\n    const { arrIds, isComplete } = ctx.request.body;\r\n    updateList(arrIds, isComplete);\r\n\r\n    ctx.status = 200;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    ctx.status = 404;\r\n    return (ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"AAAA,SACEA,MAAM,EACNC,MAAM,EACNC,UAAU,EACVC,cAAc,QACT,kCAAkC;AAEzC,OAAO,MAAMC,WAAW,GAAG,MAAOC,GAAG,IAAK;EACxC,IAAI;IACF,MAAMC,KAAK,GAAGN,MAAM,CAAC,CAAC;IACtBK,GAAG,CAACE,MAAM,GAAG,GAAG;IAChB,OAAQF,GAAG,CAACG,IAAI,GAAG;MACjBC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEJ;IACR,CAAC;EACH,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChBN,GAAG,CAACE,MAAM,GAAG,GAAG;IAChB,OAAQF,GAAG,CAACG,IAAI,GAAG;MACjBC,OAAO,EAAE,KAAK;MACdI,KAAK,EAAEF,CAAC,CAACG;IACX,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAOV,GAAG,IAAK;EACxC,IAAI;IACF,MAAM;MAAEW;IAAO,CAAC,GAAGX,GAAG,CAACY,OAAO,CAACT,IAAI;IACnCL,cAAc,CAACa,MAAM,CAAC;IACtBX,GAAG,CAACE,MAAM,GAAG,GAAG;IAChB,OAAQF,GAAG,CAACG,IAAI,GAAG;MACjBC,OAAO,EAAE,IAAI;MACbK,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOH,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChBN,GAAG,CAACE,MAAM,GAAG,GAAG;IAChB,OAAQF,GAAG,CAACG,IAAI,GAAG;MACjBC,OAAO,EAAE,KAAK;MACdI,KAAK,EAAEF,CAAC,CAACG;IACX,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMI,UAAU,GAAG,MAAOb,GAAG,IAAK;EACvC,IAAI;IACF,MAAMc,IAAI,GAAGd,GAAG,CAACY,OAAO,CAACT,IAAI;IAC7B,MAAMY,OAAO,GAAGnB,MAAM,CAACkB,IAAI,CAAC;IAC5Bd,GAAG,CAACE,MAAM,GAAG,GAAG;IAChB,OAAQF,GAAG,CAACG,IAAI,GAAG;MACjBC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAEU;IACR,CAAC;EACH,CAAC,CAAC,OAAOT,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChBN,GAAG,CAACE,MAAM,GAAG,GAAG;IAChB,OAAQF,GAAG,CAACG,IAAI,GAAG;MACjBC,OAAO,EAAE,KAAK;MACdI,KAAK,EAAEF,CAAC,CAACG;IACX,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMO,WAAW,GAAG,MAAOhB,GAAG,IAAK;EACxC,IAAI;IACF,MAAM;MAAEW,MAAM;MAAEM;IAAW,CAAC,GAAGjB,GAAG,CAACY,OAAO,CAACT,IAAI;IAC/CN,UAAU,CAACc,MAAM,EAAEM,UAAU,CAAC;IAE9BjB,GAAG,CAACE,MAAM,GAAG,GAAG;IAChB,OAAQF,GAAG,CAACG,IAAI,GAAG;MACjBC,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOE,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChBN,GAAG,CAACE,MAAM,GAAG,GAAG;IAChB,OAAQF,GAAG,CAACG,IAAI,GAAG;MACjBC,OAAO,EAAE,KAAK;MACdI,KAAK,EAAEF,CAAC,CAACG;IACX,CAAC;EACH;AACF,CAAC"}